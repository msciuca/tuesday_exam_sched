<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Donut Progress Bar</title>
<style>
  body {
    background: #222;
    color: #eee;
    font-family: Arial, sans-serif;
    height: 100vh;
    margin: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  h1 {
    margin-bottom: 20px;
  }
  svg {
    transform: rotate(-90deg);
    width: 160px;
    height: 160px;
  }
  .background-circle {
    fill: none;
    stroke: #444;
    stroke-width: 16;
  }
  .progress-circle {
    fill: none;
    stroke: #f39c12;
    stroke-width: 16;
    stroke-linecap: round;
    stroke-dasharray: 440;
    stroke-dashoffset: 440;
  }
  .percentage-text {
    font-size: 32px;
    font-weight: bold;
    fill: #f39c12;
    text-anchor: middle;
    dominant-baseline: middle;
    user-select: none;
  }
  .time-label {
    margin-top: 25px;
    font-size: 18px;
  }
</style>
</head>
<body>

<h1>Period 4 Exam Progress</h1>

<svg viewBox="0 0 150 150">
  <circle class="background-circle" cx="75" cy="75" r="70"/>
  <circle class="progress-circle" cx="75" cy="75" r="70"/>
  <text class="percentage-text" x="75" y="80">0%</text>
</svg>

<div class="time-label" id="timeLabel">Loading...</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
  const startHour = 8, startMinute = 55;
  const endHour = 10, endMinute = 40;

  const startTimeMinutes = startHour * 60 + startMinute;
  const endTimeMinutes = endHour * 60 + endMinute;
  const totalDuration = endTimeMinutes - startTimeMinutes;

  const progressCircle = document.querySelector('.progress-circle');
  const percentageText = document.querySelector('.percentage-text');
  const timeLabel = document.getElementById('timeLabel');

  const circumference = 2 * Math.PI * 70; // 2Ï€r where r=70

  progressCircle.style.strokeDasharray = circumference;
  progressCircle.style.strokeDashoffset = circumference;

  function updateProgress() {
    const now = new Date();
    const currentMinutes = now.getHours() * 60 + now.getMinutes() + now.getSeconds() / 60;

    let progressPercent;
    if (currentMinutes < startTimeMinutes) {
      progressPercent = 0;
      timeLabel.textContent = "Period 4 Exam has not started.";
    } else if (currentMinutes > endTimeMinutes) {
      progressPercent = 100;
      timeLabel.textContent = "Period 4 Exam has ended.";
    } else {
      progressPercent = ((currentMinutes - startTimeMinutes) / totalDuration) * 100;
      timeLabel.textContent = `Progress: ${progressPercent.toFixed(1)}%`;
    }

    const offset = circumference * (1 - progressPercent / 100);

    gsap.to(progressCircle, {
      strokeDashoffset: offset,
      duration: 1,
      ease: "power2.out"
    });

    percentageText.textContent = `${progressPercent.toFixed(1)}%`;
  }

  updateProgress();
  setInterval(updateProgress, 1000);
</script>

</body>
</html>
